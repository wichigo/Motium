# Ralph Wiggum - Modes Ã‰tendus

Modes avancÃ©s combinant Ralph Wiggum avec Chef-de-Projet et Orchestrator.

## Philosophie Fondamentale

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    â±ï¸ LE TEMPS N'EST PAS UNE CONTRAINTE                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘  OBJECTIF: 100/100 des 3 personas - PERFECTION                              â•‘
â•‘                                                                              â•‘
â•‘  â€¢ Si Ã§a prend 10 minutes au lieu de 2 â†’ PARFAIT                            â•‘
â•‘  â€¢ Si Ã§a prend 15 itÃ©rations au lieu de 3 â†’ PARFAIT                         â•‘
â•‘  â€¢ Si Claude doit rÃ©flÃ©chir longuement â†’ PARFAIT                            â•‘
â•‘                                                                              â•‘
â•‘  La qualitÃ© est la SEULE mÃ©trique qui compte.                               â•‘
â•‘  Prends tout le temps nÃ©cessaire pour atteindre 100/100.                    â•‘
â•‘                                                                              â•‘
â•‘  Mieux vaut un travail PARFAIT en 15 minutes                                â•‘
â•‘  qu'un travail acceptable en 2 minutes.                                     â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Table des MatiÃ¨res
1. Vue d'Ensemble des Modes
2. Mode One-Shot (Feature)
3. Mode Debug (Bug Fix)
4. Mode Task (TÃ¢che GÃ©nÃ©rale)
5. Gestion des Ã‰checs et Rollback

---

## 1. Vue d'Ensemble des Modes

### Commandes

| Commande | Usage | Orchestrator |
|----------|-------|--------------|
| `/ralph-wiggum-one-shot` | ImplÃ©menter une feature sans rÃ©gression | âœ… Toujours |
| `/ralph-wiggum-debug` | Fixer un bug sans rÃ©gression | âœ… Toujours |
| `/ralph-wiggum-task` | ExÃ©cuter une tÃ¢che gÃ©nÃ©rale (non-code) | âŒ Non |

### Architecture Commune

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PHASE 0: INTERVIEW                           â”‚
â”‚  Chef-de-Projet â†’ Questions hybrides â†’ CritÃ¨res de succÃ¨s      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PHASE 1: SNAPSHOT AVANT                      â”‚
â”‚  Ã‰tat projet â”‚ Tests existants â”‚ Score Ralph baseline          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PHASE 2: EXÃ‰CUTION                           â”‚
â”‚  Orchestrator (si code) â”‚ Boucle Ralph â”‚ Validation itÃ©rative  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PHASE 3: VALIDATION FINALE                   â”‚
â”‚  Audit complet â”‚ Tests comparÃ©s â”‚ Rapport + Historique         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Mode One-Shot (Feature)

### Trigger
```
/ralph-wiggum-one-shot [description optionnelle]
```

### Workflow Complet

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 1: INTERVIEW CHEF-DE-PROJET                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Questions Essentielles (obligatoires):                         â”‚
â”‚  â”œâ”€â”€ "Quelle feature veux-tu implÃ©menter ?"                    â”‚
â”‚  â”œâ”€â”€ "Quels fichiers/modules sont concernÃ©s ?"                 â”‚
â”‚  â”œâ”€â”€ "Quels sont les critÃ¨res de succÃ¨s ?"                     â”‚
â”‚  â””â”€â”€ "Y a-t-il des contraintes particuliÃ¨res ?"                â”‚
â”‚                                                                 â”‚
â”‚  Questions Optionnelles (si complexitÃ© dÃ©tectÃ©e):               â”‚
â”‚  â”œâ”€â”€ "Quelles couches sont impactÃ©es ? (DB/API/UI)"            â”‚
â”‚  â”œâ”€â”€ "IntÃ©grations avec modules existants ?"                   â”‚
â”‚  â”œâ”€â”€ "Tests spÃ©cifiques Ã  ajouter ?"                           â”‚
â”‚  â””â”€â”€ "Edge cases Ã  considÃ©rer ?"                               â”‚
â”‚                                                                 â”‚
â”‚  Sortie: FEATURE_SPEC.json                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 2: SNAPSHOT AVANT                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  A) Audit Ralph complet du projet                               â”‚
â”‚     â””â”€â”€ Score baseline par module                               â”‚
â”‚                                                                 â”‚
â”‚  B) ExÃ©cution des tests existants                               â”‚
â”‚     â””â”€â”€ Capture: tests passÃ©s, failed, skipped                  â”‚
â”‚                                                                 â”‚
â”‚  C) Git snapshot                                                â”‚
â”‚     â””â”€â”€ Commit/tag: "ralph-oneshot-before-{feature}"           â”‚
â”‚                                                                 â”‚
â”‚  Sortie: SNAPSHOT_BEFORE.json                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 3: ORCHESTRATION                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Agents appelÃ©s (selon la feature):                             â”‚
â”‚  â”œâ”€â”€ backend-analyzer    â†’ Comprendre l'existant               â”‚
â”‚  â”œâ”€â”€ frontend-analyzer   â†’ Comprendre l'UI existante           â”‚
â”‚  â”œâ”€â”€ backend-converter   â†’ ImplÃ©menter DB + API                â”‚
â”‚  â”œâ”€â”€ frontend-converter  â†’ ImplÃ©menter UI                      â”‚
â”‚  â”œâ”€â”€ test-converter      â†’ CrÃ©er les tests                     â”‚
â”‚  â”œâ”€â”€ security-converter  â†’ Audit sÃ©curitÃ©                      â”‚
â”‚  â””â”€â”€ syntax-validator    â†’ VÃ©rifier compilation                â”‚
â”‚                                                                 â”‚
â”‚  AprÃ¨s CHAQUE agent:                                            â”‚
â”‚  â””â”€â”€ Ralph valide les fichiers modifiÃ©s (score = 100 requis)   â”‚
â”‚                                                                 â”‚
â”‚  â±ï¸ RAPPEL: Prendre le temps nÃ©cessaire pour la perfection.    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 4: VALIDATION NON-RÃ‰GRESSION                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  A) Audit Ralph complet APRÃˆS                                   â”‚
â”‚     â””â”€â”€ Comparer avec baseline                                  â”‚
â”‚     â””â”€â”€ Aucun module ne doit avoir un score infÃ©rieur          â”‚
â”‚                                                                 â”‚
â”‚  B) ExÃ©cution des tests                                         â”‚
â”‚     â””â”€â”€ TOUS les tests avant doivent toujours passer           â”‚
â”‚     â””â”€â”€ Nouveaux tests doivent passer                          â”‚
â”‚                                                                 â”‚
â”‚  C) VÃ©rification critÃ¨res de succÃ¨s                             â”‚
â”‚     â””â”€â”€ Checklist dÃ©finie Ã  l'interview                        â”‚
â”‚                                                                 â”‚
â”‚  SI rÃ©gression dÃ©tectÃ©e:                                        â”‚
â”‚  â””â”€â”€ Boucle correction jusqu'Ã  rÃ©solution (max 15)             â”‚
â”‚                                                                 â”‚
â”‚  â±ï¸ RAPPEL: Le temps n'est pas une contrainte.                  â”‚
â”‚     Continuer jusqu'Ã  100/100 ou les 15 itÃ©rations.            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 5: RAPPORT & HISTORIQUE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Fichiers gÃ©nÃ©rÃ©s:                                              â”‚
â”‚  â”œâ”€â”€ .claude/ralph_history/oneshot_{date}_{feature}.md         â”‚
â”‚  â”œâ”€â”€ .claude/VALIDATION_REPORT.json (mis Ã  jour)               â”‚
â”‚  â””â”€â”€ .claude/PROJECT_STATE.json (mis Ã  jour)                   â”‚
â”‚                                                                 â”‚
â”‚  Contenu du rapport:                                            â”‚
â”‚  â”œâ”€â”€ RÃ©sumÃ© de la feature                                       â”‚
â”‚  â”œâ”€â”€ Fichiers crÃ©Ã©s/modifiÃ©s                                   â”‚
â”‚  â”œâ”€â”€ Score avant â†’ aprÃ¨s par module                            â”‚
â”‚  â”œâ”€â”€ Tests avant â†’ aprÃ¨s                                       â”‚
â”‚  â”œâ”€â”€ ItÃ©rations nÃ©cessaires                                    â”‚
â”‚  â””â”€â”€ ProblÃ¨mes rencontrÃ©s et solutions                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CritÃ¨res de SuccÃ¨s One-Shot

```json
{
  "feature_complete": true,
  "all_acceptance_criteria_met": true,
  "no_regression": {
    "ralph_scores": "aucun module avec score infÃ©rieur",
    "tests": "tous les tests avant passent toujours",
    "new_tests": "nouveaux tests passent"
  },
  "ralph_score_new_files": "= 100 (perfection requise)"
}
```

---

## 3. Mode Debug (Bug Fix)

### Trigger
```
/ralph-wiggum-debug [description optionnelle du bug]
```

### Workflow Complet

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 1: INTERVIEW DEBUG                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Questions Essentielles (obligatoires):                         â”‚
â”‚  â”œâ”€â”€ "Quel est le bug / comportement actuel ?"                 â”‚
â”‚  â”œâ”€â”€ "Comment le reproduire ? (Ã©tapes)"                        â”‚
â”‚  â”œâ”€â”€ "Quel est le comportement attendu ?"                      â”‚
â”‚  â””â”€â”€ "Fichier(s)/module(s) suspect(s) ?"                       â”‚
â”‚                                                                 â”‚
â”‚  Questions Optionnelles (si complexitÃ© dÃ©tectÃ©e):               â”‚
â”‚  â”œâ”€â”€ "Depuis quand le bug existe ?"                            â”‚
â”‚  â”œâ”€â”€ "Commit/version oÃ¹ Ã§a marchait ?"                         â”‚
â”‚  â”œâ”€â”€ "Messages d'erreur / logs ?"                              â”‚
â”‚  â””â”€â”€ "Conditions particuliÃ¨res ? (device, data, timing)"       â”‚
â”‚                                                                 â”‚
â”‚  Sortie: BUG_SPEC.json                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 2: SNAPSHOT & REPRODUCTION                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  A) ExÃ©cution tests existants                                   â”‚
â”‚     â””â”€â”€ Capturer l'Ã©tat actuel                                 â”‚
â”‚                                                                 â”‚
â”‚  B) CrÃ©er test de reproduction                                  â”‚
â”‚     â””â”€â”€ Test qui Ã‰CHOUE et reproduit le bug                    â”‚
â”‚     â””â”€â”€ Ce test DOIT fail avant le fix                         â”‚
â”‚                                                                 â”‚
â”‚  C) Git snapshot                                                â”‚
â”‚     â””â”€â”€ Tag: "ralph-debug-before-{bug-id}"                     â”‚
â”‚                                                                 â”‚
â”‚  Sortie: SNAPSHOT_DEBUG.json + test_reproduction.kt            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 3: ORCHESTRATION DEBUG                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Scope: FOCUS sur le module buguÃ© uniquement                    â”‚
â”‚                                                                 â”‚
â”‚  Agents appelÃ©s:                                                â”‚
â”‚  â”œâ”€â”€ backend-analyzer    â†’ Analyser le module buguÃ©            â”‚
â”‚  â”‚   (ou frontend-analyzer selon le bug)                       â”‚
â”‚  â”œâ”€â”€ backend-converter   â†’ ImplÃ©menter le fix minimal          â”‚
â”‚  â”‚   (ou frontend-converter)                                   â”‚
â”‚  â”œâ”€â”€ test-converter      â†’ Test de rÃ©gression                  â”‚
â”‚  â””â”€â”€ syntax-validator    â†’ VÃ©rifier compilation                â”‚
â”‚                                                                 â”‚
â”‚  RÃ¨gle: FIX MINIMAL                                             â”‚
â”‚  â””â”€â”€ Pas de refactoring                                        â”‚
â”‚  â””â”€â”€ Pas de changements non liÃ©s                               â”‚
â”‚  â””â”€â”€ Backward compatible                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 4: VALIDATION DEBUG                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  A) Test de reproduction                                        â”‚
â”‚     â””â”€â”€ DOIT maintenant PASSER (bug fixÃ©)                      â”‚
â”‚                                                                 â”‚
â”‚  B) Tests existants                                             â”‚
â”‚     â””â”€â”€ TOUS doivent toujours passer (non-rÃ©gression)          â”‚
â”‚                                                                 â”‚
â”‚  C) Ralph validation du module modifiÃ©                         â”‚
â”‚     â””â”€â”€ Score = 100 (perfection requise)                       â”‚
â”‚                                                                 â”‚
â”‚  â±ï¸ RAPPEL: Le temps n'est pas une contrainte.                  â”‚
â”‚                                                                 â”‚
â”‚  SI validation Ã©choue:                                          â”‚
â”‚  â””â”€â”€ Boucle correction (max 15 itÃ©rations)                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 5: RAPPORT DEBUG                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Fichiers gÃ©nÃ©rÃ©s:                                              â”‚
â”‚  â”œâ”€â”€ .claude/ralph_history/debug_{date}_{bug-id}.md            â”‚
â”‚  â”œâ”€â”€ .claude/VALIDATION_REPORT.json (mis Ã  jour)               â”‚
â”‚  â””â”€â”€ .claude/PROJECT_STATE.json (mis Ã  jour)                   â”‚
â”‚                                                                 â”‚
â”‚  Contenu du rapport:                                            â”‚
â”‚  â”œâ”€â”€ Description du bug                                         â”‚
â”‚  â”œâ”€â”€ Root cause identifiÃ©e                                     â”‚
â”‚  â”œâ”€â”€ Fix appliquÃ© (diff minimal)                               â”‚
â”‚  â”œâ”€â”€ Test de reproduction ajoutÃ©                               â”‚
â”‚  â”œâ”€â”€ Confirmation non-rÃ©gression                               â”‚
â”‚  â””â”€â”€ ItÃ©rations nÃ©cessaires                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CritÃ¨res de SuccÃ¨s Debug

```json
{
  "bug_fixed": true,
  "reproduction_test_passes": true,
  "no_regression": {
    "all_previous_tests_pass": true
  },
  "fix_is_minimal": true,
  "ralph_score_modified_files": "= 100 (perfection requise)"
}
```

---

## 4. Mode Task (TÃ¢che GÃ©nÃ©rale)

### Trigger
```
/ralph-wiggum-task [description optionnelle]
```

### Workflow Complet

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 1: INTERVIEW TASK                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Questions Essentielles (obligatoires):                         â”‚
â”‚  â”œâ”€â”€ "Quelle tÃ¢che veux-tu accomplir ?"                        â”‚
â”‚  â”œâ”€â”€ "Quel est le livrable attendu ?"                          â”‚
â”‚  â”œâ”€â”€ "Quels sont les critÃ¨res de succÃ¨s ?"                     â”‚
â”‚  â””â”€â”€ "Qui est la cible / l'audience ?"                         â”‚
â”‚                                                                 â”‚
â”‚  Questions Optionnelles (selon le type de tÃ¢che):               â”‚
â”‚  â”œâ”€â”€ "Contraintes de format ?"                                 â”‚
â”‚  â”œâ”€â”€ "RÃ©fÃ©rences / exemples Ã  suivre ?"                        â”‚
â”‚  â”œâ”€â”€ "Niveau de dÃ©tail attendu ?"                              â”‚
â”‚  â””â”€â”€ "Deadline ou prioritÃ© ?"                                  â”‚
â”‚                                                                 â”‚
â”‚  Sortie: TASK_SPEC.json                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 2: EXÃ‰CUTION DIRECTE                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Pas d'orchestrator (pas de code)                               â”‚
â”‚                                                                 â”‚
â”‚  ExÃ©cution avec boucle Ralph:                                   â”‚
â”‚  WHILE (score < 100 AND iteration < 15):                        â”‚
â”‚      1. Produire/amÃ©liorer le livrable                         â”‚
â”‚      2. Validation 3 personas                                  â”‚
â”‚      3. VÃ©rifier checklist critÃ¨res                            â”‚
â”‚      4. Si insuffisant: corriger et retry                      â”‚
â”‚                                                                 â”‚
â”‚  â±ï¸ RAPPEL: Le temps n'est pas une contrainte.                  â”‚
â”‚     Prendre le temps nÃ©cessaire pour atteindre 100/100.        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 3: VALIDATION QUALITÃ‰                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  A) Validation 3 Personas (TOUS Ã€ 100/100)                      â”‚
â”‚                                                                 â”‚
â”‚  ğŸ§’ RALPH (ClartÃ©): 100/100 requis                              â”‚
â”‚     â””â”€â”€ "C'est comprÃ©hensible ?"                               â”‚
â”‚     â””â”€â”€ "Y'a des trucs confus ?"                               â”‚
â”‚     â””â”€â”€ "Ã‡a rÃ©pond Ã  la question ?"                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ EXPERT (PrÃ©cision): 100/100 requis                          â”‚
â”‚     â””â”€â”€ "Les infos sont correctes ?"                           â”‚
â”‚     â””â”€â”€ "Rien d'obsolÃ¨te ou imprÃ©cis ?"                        â”‚
â”‚     â””â”€â”€ "Le niveau de dÃ©tail est adaptÃ© ?"                     â”‚
â”‚                                                                 â”‚
â”‚  âš–ï¸ AVOCAT (ComplÃ©tude): 100/100 requis                         â”‚
â”‚     â””â”€â”€ "Il manque quelque chose ?"                            â”‚
â”‚     â””â”€â”€ "Les alternatives sont mentionnÃ©es ?"                  â”‚
â”‚     â””â”€â”€ "Les limites sont reconnues ?"                         â”‚
â”‚                                                                 â”‚
â”‚  B) Checklist CritÃ¨res (dÃ©finis Ã  l'interview)                 â”‚
â”‚     â””â”€â”€ Chaque critÃ¨re doit Ãªtre validÃ© âœ…                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 4: RAPPORT TASK                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Fichiers gÃ©nÃ©rÃ©s:                                              â”‚
â”‚  â”œâ”€â”€ .claude/ralph_history/task_{date}_{name}.md               â”‚
â”‚  â”œâ”€â”€ [Livrable produit selon le format demandÃ©]                â”‚
â”‚  â””â”€â”€ .claude/VALIDATION_REPORT.json (mis Ã  jour)               â”‚
â”‚                                                                 â”‚
â”‚  Contenu du rapport:                                            â”‚
â”‚  â”œâ”€â”€ Description de la tÃ¢che                                   â”‚
â”‚  â”œâ”€â”€ Livrable produit                                          â”‚
â”‚  â”œâ”€â”€ Score qualitÃ© par persona                                 â”‚
â”‚  â”œâ”€â”€ Checklist critÃ¨res (âœ…/âŒ)                                 â”‚
â”‚  â”œâ”€â”€ ItÃ©rations nÃ©cessaires                                    â”‚
â”‚  â””â”€â”€ AmÃ©liorations suggÃ©rÃ©es                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Types de TÃ¢ches SupportÃ©es

| Type | Exemple | Validation Focus |
|------|---------|-----------------|
| Documentation | README, guides, specs | ClartÃ©, complÃ©tude |
| Analyse | Revue code, audit perf | PrÃ©cision, profondeur |
| GÃ©nÃ©ration | Prompts, templates, configs | UtilisabilitÃ©, cohÃ©rence |
| Recherche | Investigation, comparaison | ObjectivitÃ©, sources |
| RÃ©daction | Articles, rapports | Structure, argumentation |

### CritÃ¨res de SuccÃ¨s Task

```json
{
  "deliverable_produced": true,
  "ralph_score": "= 100 (perfection requise)",
  "all_criteria_met": true,
  "personas_validation": {
    "ralph_clarity": "= 100",
    "expert_precision": "= 100",
    "avocat_completude": "= 100"
  }
}
```

---

## 5. Gestion des Ã‰checs et Rollback

### Workflow d'Ã‰chec

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GESTION DES Ã‰CHECS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â±ï¸ RAPPEL: Le temps n'est pas une contrainte.                  â”‚
â”‚     15 itÃ©rations = beaucoup d'opportunitÃ©s pour rÃ©ussir.      â”‚
â”‚                                                                 â”‚
â”‚  iteration = 0                                                  â”‚
â”‚  max_iterations = 15                                            â”‚
â”‚                                                                 â”‚
â”‚  WHILE (NOT success AND iteration < max_iterations):            â”‚
â”‚      1. Tenter l'action                                        â”‚
â”‚      2. Valider le rÃ©sultat (viser 100/100)                    â”‚
â”‚      3. IF Ã©chec: analyser et corriger                         â”‚
â”‚      4. iteration++                                             â”‚
â”‚                                                                 â”‚
â”‚  IF iteration >= max_iterations:                                â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚      â”‚  ğŸ›‘ PAUSE - INTERVENTION HUMAINE REQUISE            â”‚   â”‚
â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚      â”‚                                                     â”‚   â”‚
â”‚      â”‚  Afficher:                                          â”‚   â”‚
â”‚      â”‚  â”œâ”€â”€ ProblÃ¨me identifiÃ©                            â”‚   â”‚
â”‚      â”‚  â”œâ”€â”€ Tentatives effectuÃ©es (15)                    â”‚   â”‚
â”‚      â”‚  â”œâ”€â”€ Approches essayÃ©es                            â”‚   â”‚
â”‚      â”‚  â””â”€â”€ Suggestions pour dÃ©bloquer                    â”‚   â”‚
â”‚      â”‚                                                     â”‚   â”‚
â”‚      â”‚  Options:                                           â”‚   â”‚
â”‚      â”‚  â”œâ”€â”€ [1] Fournir des indications et reprendre      â”‚   â”‚
â”‚      â”‚  â”œâ”€â”€ [2] Modifier les critÃ¨res et reprendre        â”‚   â”‚
â”‚      â”‚  â””â”€â”€ [3] Rollback et abandonner                    â”‚   â”‚
â”‚      â”‚                                                     â”‚   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  SI option [1] ou [2] choisie:                                 â”‚
â”‚      â””â”€â”€ Reprendre avec nouvelles infos (reset iteration = 0) â”‚
â”‚                                                                 â”‚
â”‚  SI nouvelle intervention et toujours bloquÃ©:                  â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚      â”‚  âš ï¸ TOUJOURS BLOQUÃ‰ APRÃˆS INTERVENTION              â”‚   â”‚
â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚      â”‚                                                     â”‚   â”‚
â”‚      â”‚  Options:                                           â”‚   â”‚
â”‚      â”‚  â”œâ”€â”€ [1] Nouvelle intervention                     â”‚   â”‚
â”‚      â”‚  â””â”€â”€ [2] ğŸ”„ ROLLBACK des changements               â”‚   â”‚
â”‚      â”‚                                                     â”‚   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MÃ©canisme de Rollback

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ROLLBACK AUTOMATIQUE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. IDENTIFIER le snapshot avant                                â”‚
â”‚     â””â”€â”€ Tag git: "ralph-{mode}-before-{id}"                    â”‚
â”‚                                                                 â”‚
â”‚  2. LISTER les changements Ã  annuler                           â”‚
â”‚     â””â”€â”€ Diff entre snapshot et Ã©tat actuel                     â”‚
â”‚                                                                 â”‚
â”‚  3. CONFIRMER avec l'utilisateur                               â”‚
â”‚     â””â”€â”€ "Les fichiers suivants seront restaurÃ©s: [liste]"     â”‚
â”‚     â””â”€â”€ "Confirmer le rollback ? [y/n]"                        â”‚
â”‚                                                                 â”‚
â”‚  4. EXÃ‰CUTER le rollback                                       â”‚
â”‚     â””â”€â”€ git checkout {tag} -- [fichiers modifiÃ©s]              â”‚
â”‚     â””â”€â”€ OU restauration manuelle si pas de git                 â”‚
â”‚                                                                 â”‚
â”‚  5. NETTOYER                                                   â”‚
â”‚     â””â”€â”€ Supprimer fichiers crÃ©Ã©s (si applicable)              â”‚
â”‚     â””â”€â”€ Mettre Ã  jour PROJECT_STATE.json                       â”‚
â”‚                                                                 â”‚
â”‚  6. RAPPORT D'Ã‰CHEC                                            â”‚
â”‚     â””â”€â”€ .claude/ralph_history/failed_{date}_{id}.md            â”‚
â”‚     â””â”€â”€ Documenter: tentatives, blocage, rollback effectuÃ©    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Fichiers de Rollback

```json
// .claude/ROLLBACK_POINTS.json
{
  "points": [
    {
      "id": "oneshot-2026-01-21-user-profile",
      "mode": "one-shot",
      "git_tag": "ralph-oneshot-before-user-profile",
      "timestamp": "2026-01-21T10:30:00Z",
      "files_snapshot": [
        {"path": "User.kt", "hash": "abc123"},
        {"path": "UserRepository.kt", "hash": "def456"}
      ],
      "status": "active"
    }
  ]
}
```

---

## Configuration

### ParamÃ¨tres par DÃ©faut

```json
// .claude/ralph_extended_config.json
{
  "philosophy": {
    "time_is_not_a_constraint": true,
    "quality_over_speed": true,
    "target": "100/100 - perfection absolue"
  },
  "one_shot": {
    "max_iterations": 15,
    "score_threshold": 100,
    "require_no_regression": true,
    "orchestrator_always": true,
    "create_snapshot": true
  },
  "debug": {
    "max_iterations": 15,
    "score_threshold": 100,
    "require_reproduction_test": true,
    "minimal_fix_only": true,
    "create_snapshot": true
  },
  "task": {
    "max_iterations": 15,
    "score_threshold": 100,
    "validate_all_criteria": true,
    "create_snapshot": false
  },
  "history": {
    "directory": ".claude/ralph_history/",
    "keep_days": 90,
    "include_diffs": true
  },
  "rollback": {
    "enabled": true,
    "require_confirmation": true,
    "keep_failed_reports": true
  }
}
```
